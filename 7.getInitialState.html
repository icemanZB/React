<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>getInitialState</title>
	<script src="js/react.js"></script>
	<script src="js/react-dom.js"></script>
	<script src="js/browser.js"></script>
</head>
<body>
<div id="box"></div>
<script type="text/babel">
	var FirstComponent = React.createClass({
		getInitialState: function () {
			return {
				// this.props 是不可改变的
				msg: this.props.value
			}
		},
		render         : function () {
			// this.state 是可以改变的
			return (
					<div>
						<h1>{this.props.title}</h1>
						<input type="text" value={this.state.msg} onChange={this.changeHandle}/>
						<input type="button" value={this.props.sendName}/>
						<p>{this.state.msg}</p>
					</div>
			)
		},
		changeHandle   : function (ev) {
			// 当 msg 值改变的时候，会重新 render 渲染
			this.setState(
					{msg: ev.target.value}
			);
		}
	});

	var obj = {
		title   : 'Iceman',
		sendName: '提交',
		value   : '请输入留言'
	};

	ReactDOM.render(
			<FirstComponent {...obj} />,
			document.getElementById('box'),
			function () {
				console.log('页面渲染完成');
			}
	);

</script>
</body>
</html>